const miModulo=(()=>{"use strict";let e=document.querySelector("#btnGet"),t=document.querySelector("#btnStop"),l=document.querySelector("#btnNew"),r=document.querySelectorAll("small"),n=document.querySelectorAll(".divCards"),s=[],a=["C","D","H","S"],d=["A","J","Q","K"],i=[],o=(l=2)=>{s=c(),i=[];for(let a=0;a<l;a++)i.push(0);r.forEach(e=>{e.innerText=0}),n.forEach(e=>{e.innerHTML=""}),e.disabled=!1,t.disabled=!1},c=()=>{s=[];for(let e=2;e<=10;e++)for(let t of a)s.push(e+t);for(let l of d)for(let r of a)s.push(l+r);return _.shuffle(s)},u=()=>{if(0===s.length)throw"No hay cartas en el deck";return s.pop()},$=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},f=(e,t)=>(i[t]=i[t]+$(e),r[t].innerText=i[t],i[t]),b=(e,t)=>{let l=document.createElement("img");l.src=`assets/cartas/${e}.png`,l.classList.add("carta"),n[t].append(l)},h=e=>{let t=0;do{let l=u();if(t=f(l,i.length-1),b(l,i.length-1),e>21)break}while(t<e&&e<=21);p()},p=()=>{setTimeout(()=>{let[e,t]=i;e<=21&&(t<e||t>21)?alert("You win!!"):e===t?alert("No body wins"):alert("You lost :(")},1e3)};return e.addEventListener("click",()=>{let l=u(),r=f(l,0);b(l,0),r>21?(console.warn("Perdise, papu :(!"),e.disabled=!0,t.disabled=!0,h(r)):21===r&&(console.warn("21, genial"),t.disabled=!0,h(r))}),t.addEventListener("click",()=>{e.disabled=!0,t.disabled=!0,h(i[0])}),l.addEventListener("click",()=>{o()}),{newGame:o}})();